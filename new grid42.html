<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Grid with Contact Information</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            margin: 0;
            padding: 0;
            height: 100vh;
        }

        header {
            width: 100%;
            background-color: white;
            color: white;
            padding: 10px 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 1000;
        }

        header .logo img {
            display: block;
            margin: 0 auto;
            max-width: 200px;
            height: auto;
        }

        header .home-button {
            margin-top: 10px;
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 16px;
            border-radius: 5px;
        }

        .new-info-container {
            width: 100%;
            max-width: 940px;
            height: 64px;
            background-color: #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px 0;
            font-weight: bold;
            font-size: 48px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            color: black;
            padding: 20px;
            text-align: center;
        }

        .info-container {
            display: grid;
            grid-template-columns: repeat(3, 300px);
            grid-template-rows: repeat(3, 150px);
            gap: 1px; /* Default gap between boxes */
            margin-bottom: 20px;
        }

        .box {
            border: 2px solid #ccc;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f9f9f9;
            overflow: hidden;
            padding: 10px;
            flex-direction: column;
        }

        .box input[type="file"] {
            opacity: 0;
            position: absolute;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .box img, .box video {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .label {
            position: absolute;
            top: 10px;
            left: 10px;
            background-color: rgba(255, 255, 255, 0.7);
            padding: 2px 5px;
            font-weight: bold;
        }

        .clear-button {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(255, 0, 0, 0.7);
            color: white;
            border: none;
            padding: 2px 5px;
            cursor: pointer;
            font-size: 12px;
        }

        .control-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: 20px;
            width: 100%;
            max-width: 1000px;
        }

        .box-container {
            border: 1px solid #ccc;
            padding: 20px;
            background-color: #f1f1f1;
            width: 100%;
        }

        .contact-info-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .contact-info-container label {
            font-size: 14px;
            margin-right: 5px;
        }

        .contact-info-container input[type="text"],
        .contact-info-container input[type="email"],
        .contact-info-container input[type="url"] {
            padding: 5px;
            font-size: 14px;
            width: 200px;
            margin-right: 10px;
        }

        .contact-info-container select {
            padding: 5px;
            font-size: 14px;
            margin-right: 10px;
        }

        .contact-info-container input[type="color"] {
            margin-right: 10px;
        }

        .contact-info-container .checkbox-container {
            display: flex;
            align-items: center;
        }

    </style>
</head>
<body>

    <header>
        <div class="logo">
            <img src="hausbaumbiz.png" alt="Logo">
        </div>
        <button class="home-button">Home</button>
    </header>

    <div class="new-info-container" id="businessNameContainer">
        Your Business Name Here
    </div>

    <div class="info-container" id="infoContainer">
        <div class="box" id="box1A">
            <div class="label">1A</div>
            <input type="file" accept="image/*,video/*" onchange="previewMedia(event, 'box1A')">
            <button class="clear-button" onclick="clearBox('box1A')">Clear</button>
        </div>
        <div class="box" id="box1B">
            <div class="label">1B</div>
            <input type="file" accept="image/*,video/*" onchange="previewMedia(event, 'box1B')">
            <button class="clear-button" onclick="clearBox('box1B')">Clear</button>
        </div>
        <div class="box" id="box1C">
            <div class="label">1C</div>
            <input type="file" accept="image/*,video/*" onchange="previewMedia(event, 'box1C')">
            <button class="clear-button" onclick="clearBox('box1C')">Clear</button>
        </div>
        <div class="box" id="box2A">
            <div class="label">2A</div>
            <input type="file" accept="image/*,video/*" onchange="previewMedia(event, 'box2A')">
            <button class="clear-button" onclick="clearBox('box2A')">Clear</button>
        </div>
        <div class="box" id="box2B">
            <div class="label">2B</div>
            <input type="file" accept="image/*,video/*" onchange="previewMedia(event, 'box2B')">
            <button class="clear-button" onclick="clearBox('box2B')">Clear</button>
        </div>
        <div class="box" id="box2C">
            <div class="label">2C</div>
            <input type="file" accept="image/*,video/*" onchange="previewMedia(event, 'box2C')">
            <button class="clear-button" onclick="clearBox('box2C')">Clear</button>
        </div>
        <div class="box" id="box3A">
            <div class="label">3A</div>
            <input type="file" accept="image/*,video/*" onchange="previewMedia(event, 'box3A')">
            <button class="clear-button" onclick="clearBox('box3A')">Clear</button>
        </div>
        <div class="box" id="box3B">
            <div class="label">3B</div>
            <input type="file" accept="image/*,video/*" onchange="previewMedia(event, 'box3B')">
            <button class="clear-button" onclick="clearBox('box3B')">Clear</button>
        </div>
        <div class="box" id="box3C">
            <div class="label">3C</div>
            <input type="file" accept="image/*,video/*" onchange="previewMedia(event, 'box3C')">
            <button class="clear-button" onclick="clearBox('box3C')">Clear</button>
        </div>
    </div>

    <div class="control-panel">
        <label>
            <input type="checkbox" id="removeGridCheckbox" onchange="toggleGridVisibility()"> Remove Grid
        </label>
    </div>

    <div class="control-panel">
        <label for="combineBoxes">Combine boxes (e.g., 1A 1B 2B): </label>
        <input type="text" id="combineBoxes" placeholder="Enter box labels">
        <label for="newLabel">New combined label: </label>
        <input type="text" id="newLabel" placeholder="Enter new label">
        <button onclick="combineBoxes()">Combine</button>

        <br><br>

        <div class="box-container">
            <h3>Images</h3>
            <label>Add Images to Your Ad Box</label>
            <div class="image-search-container">
                <label for="targetBox">Select Box:</label>
                <input type="text" id="targetBox" placeholder="Enter Box Label (e.g., 1A)">
                <label for="imageSearch">Search for Image:</label>
                <input type="file" id="imageSearch" accept="image/*" onchange="searchAndAssignImage(event)">
            </div>
        </div>

        <div class="box-container">
            <h3>Add Styled Text to Info Box</h3>
            <label for="infoBoxTarget">Select Info Box (e.g., 1A, 2A): </label>
            <input type="text" id="infoBoxTarget" placeholder="Enter Box Label (e.g., 1A)">
            
            <label for="editableText">Styled Text Editor: </label>
            <div id="editableText" contenteditable="true" style="min-height: 100px; border: 1px solid #ccc; padding: 10px; font-size: 16px; overflow: auto;"></div>

            <label for="fontSizeSelector">Font Size: </label>
            <select id="fontSizeSelector" onchange="applyStyle('fontSize', this.value)">
                <option value="16px">16px</option>
                <option value="18px">18px</option>
                <option value="20px">20px</option>
                <option value="24px">24px</option>
                <option value="28px">28px</option>
                <option value="32px">32px</option>
            </select>

            <label for="fontStyleSelector">Font Style: </label>
            <select id="fontStyleSelector" onchange="applyStyle('fontName', this.value)">
                <option value="Arial">Arial</option>
                <option value="Verdana">Verdana</option>
                <option value="Times New Roman">Times New Roman</option>
                <option value="Georgia">Georgia</option>
                <option value="Courier New">Courier New</option>
            </select>

            <label for="textColorPicker">Text Color: </label>
            <input type="color" id="textColorPicker" value="#000000" onchange="applyStyle('foreColor', this.value)">

            <button onclick="addStyledTextToInfoBox()">Add Text</button>
        </div>
		<div class="box-container">
            <h3>Business Name</h3>
            <label for="businessName">Enter Business Name: </label>
            <input type="text" id="businessName" placeholder="Enter Business Name">

            <div class="color-picker-container">
                <label for="businessNameColorPicker">Choose Business Name Color: </label>
                <input type="color" id="businessNameColorPicker" value="#000000">
            </div>

            <div class="font-selector-container">
                <label for="businessNameFontSelector">Choose Font Style: </label>
                <select id="businessNameFontSelector">
                    <option value="Arial">Arial</option>
                    <option value="Verdana">Verdana</option>
                    <option value="Times New Roman">Times New Roman</option>
                    <option value="Georgia">Georgia</option>
                    <option value="Courier New">Courier New</option>
                </select>
            </div>

            <button onclick="updateBusinessName()">Update Business Name</button>
        </div>
    </div>

        <div class="box-container">
            <h3>Contact Information</h3>

            <!-- Contact Person -->
            <div>
                <label for="contactPerson">Contact Person: </label>
                <input type="text" id="contactPerson" placeholder="Enter Contact Person">

                <label for="contactPersonColorPicker">Choose Contact Person Color: </label>
                <input type="color" id="contactPersonColorPicker" value="#000000">

                <label for="contactPersonFontSelector">Choose Contact Person Font Style: </label>
                <select id="contactPersonFontSelector">
                    <option value="Arial">Arial</option>
                    <option value="Verdana">Verdana</option>
                    <option value="Times New Roman">Times New Roman</option>
                    <option value="Georgia">Georgia</option>
                    <option value="Courier New">Courier New</option>
                </select>
            </div>

            <!-- Phone Number 1 -->
            <div>
                <label>Phone Number: </label>
                <input type="text" id="phoneArea" maxlength="3" placeholder="Area" onkeypress="return isNumberKey(event)">
                <input type="text" id="phonePrefix" maxlength="3" placeholder="Prefix" onkeypress="return isNumberKey(event)">
                <input type="text" id="phoneLine" maxlength="4" placeholder="Line" onkeypress="return isNumberKey(event)">
                <input type="color" id="phoneColorPicker" title="Choose color">
                <label>
                    <input type="checkbox" id="phoneLinkCheck"> Make this number a link
                </label>
            </div>

            <!-- Text Number -->
            <div>
                <label>Text Number: </label>
                <input type="text" id="textArea" maxlength="3" placeholder="Area" onkeypress="return isNumberKey(event)">
                <input type="text" id="textPrefix" maxlength="3" placeholder="Prefix" onkeypress="return isNumberKey(event)">
                <input type="text" id="textLine" maxlength="4" placeholder="Line" onkeypress="return isNumberKey(event)">
                <input type="color" id="textColorPicker" title="Choose color">
                <label>
                    <input type="checkbox" id="textLinkCheck"> Make this number a link
                </label>
            </div>

            <!-- 2nd Phone Number -->
            <div>
                <label>2nd Number: </label>
                <input type="text" id="secondArea" maxlength="3" placeholder="Area" onkeypress="return isNumberKey(event)">
                <input type="text" id="secondPrefix" maxlength="3" placeholder="Prefix" onkeypress="return isNumberKey(event)">
                <input type="text" id="secondLine" maxlength="4" placeholder="Line" onkeypress="return isNumberKey(event)">
                <input type="color" id="secondColorPicker" title="Choose color">
                <label>
                    <input type="checkbox" id="secondLinkCheck"> Make this number a link
                </label>
            </div>

            <!-- Email -->
            <div>
                <label>Contact Email: </label>
                <input type="email" id="contactEmail" placeholder="Enter Email">
                <input type="color" id="emailColorPicker" title="Choose color">
                <label>
                    <input type="checkbox" id="emailCheck"> Make this email a link
                </label>
            </div>

            <!-- Website Address -->
            <div>
                <label>Website Address: </label>
                <input type="url" id="websiteAddress" placeholder="Enter Website">
                <input type="color" id="websiteColorPicker" title="Choose color">
                <label>
                    <input type="checkbox" id="websiteCheck"> Make this web address a link
                </label>
            </div>

            <!-- Box Selector -->
            <div>
                <label for="contactInfoBoxTarget">Select Box for Contact Info:</label>
                <input type="text" id="contactInfoBoxTarget" placeholder="Enter Box Label (e.g., 1A)">
                <button onclick="assignContactInfoToBox()">Place Contact Info</button>
            </div>

            <!-- Clear Button -->
            <button class="clear-button" onclick="clearContactInfo()">Clear</button>
        </div>

        <div class="box-container">
            <h3>Office Address</h3>
            <input type="text" id="streetAddress" placeholder="Enter Street Address">
            <input type="text" id="city" placeholder="Enter City">
            <input type="text" id="state" placeholder="Enter State">
            <input type="text" id="zipCode" placeholder="Enter Zip Code">

            <div class="color-picker-container">
                <label for="addressColorPicker">Choose Address Color: </label>
                <input type="color" id="addressColorPicker" onchange="updateAddressColor()">
                <input type="text" id="addressHexColorCode" oninput="updateColorFromHex(this, 'addressColorPicker', 'streetAddress'); updateColorFromHex(this, 'addressColorPicker', 'city'); updateColorFromHex(this, 'addressColorPicker', 'state'); updateColorFromHex(this, 'addressColorPicker', 'zipCode');" placeholder="#000000">
            </div>

            <div class="font-selector-container">
                <label for="addressFontSelector">Choose Address Font Style: </label>
                <select id="addressFontSelector" onchange="updateAddressFont()">
                    <option value="Arial, sans-serif">Arial</option>
                    <option value="Verdana, sans-serif">Verdana</option>
                    <option value="'Times New Roman', serif">Times New Roman</option>
                    <option value="Georgia, serif">Georgia</option>
                    <option value="'Courier New', monospace">Courier New</option>
                </select>
            </div>

            <div>
                <label for="officeInfoBoxTarget">Select Box for Office Address:</label>
                <input type="text" id="officeInfoBoxTarget" placeholder="Enter Box Label (e.g., 1A)">
                <button onclick="assignOfficeInfoToBox()">Place Office Address</button>
            </div>
        </div>

        <div class="box-container">
            <h3>Office Hours</h3>
            
            <div class="office-hours-container">
                <!-- Loop through days of the week -->
                <div class="day-row" id="mondayDayContainer">
                    <label for="monday">Monday: </label>
                    <select id="mondayOpenHour" class="hour-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select> 
                    <select id="mondayOpenPeriod" class="period-select">
                        <option value="AM">AM</option>
                        <option value="PM">PM</option>
                    </select>
                    to
                    <select id="mondayCloseHour" class="hour-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select> 
                    <select id="mondayClosePeriod" class="period-select">
                        <option value="AM">AM</option>
                        <option value="PM">PM</option>
                    </select>
                    <input type="checkbox" id="mondayClosed" class="closed-checkbox" onchange="toggleDayClosed('monday')">
                    <label for="mondayClosed">Closed</label>
                </div>
                <!-- Repeat similar block for other days (Tuesday to Sunday) -->
                <div class="day-row" id="tuesdayDayContainer">
                    <label for="tuesday">Tuesday: </label>
                    <select id="tuesdayOpenHour" class="hour-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select> 
                    <select id="tuesdayOpenPeriod" class="period-select">
                        <option value="AM">AM</option>
                        <option value="PM">PM</option>
                    </select>
                    to
                    <select id="tuesdayCloseHour" class="hour-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select> 
                    <select id="tuesdayClosePeriod" class="period-select">
                        <option value="AM">AM</option>
                        <option value="PM">PM</option>
                    </select>
                    <input type="checkbox" id="tuesdayClosed" class="closed-checkbox" onchange="toggleDayClosed('tuesday')">
                    <label for="tuesdayClosed">Closed</label>
                </div>
                <!-- Repeat similar block for other days (Wednesday to Sunday) -->
                <div class="day-row" id="wednesdayDayContainer">
                    <label for="wednesday">Wednesday: </label>
                    <select id="wednesdayOpenHour" class="hour-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select> 
                    <select id="wednesdayOpenPeriod" class="period-select">
                        <option value="AM">AM</option>
                        <option value="PM">PM</option>
                    </select>
                    to
                    <select id="wednesdayCloseHour" class="hour-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select> 
                    <select id="wednesdayClosePeriod" class="period-select">
                        <option value="AM">AM</option>
                        <option value="PM">PM</option>
                    </select>
                    <input type="checkbox" id="wednesdayClosed" class="closed-checkbox" onchange="toggleDayClosed('wednesday')">
                    <label for="wednesdayClosed">Closed</label>
                </div>
                <!-- Repeat similar block for other days (Thursday to Sunday) -->
                <div class="day-row" id="thursdayDayContainer">
                    <label for="thursday">Thursday: </label>
                    <select id="thursdayOpenHour" class="hour-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select> 
                    <select id="thursdayOpenPeriod" class="period-select">
                        <option value="AM">AM</option>
                        <option value="PM">PM</option>
                    </select>
                    to
                    <select id="thursdayCloseHour" class="hour-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select> 
                    <select id="thursdayClosePeriod" class="period-select">
                        <option value="AM">AM</option>
                        <option value="PM">PM</option>
                    </select>
                    <input type="checkbox" id="thursdayClosed" class="closed-checkbox" onchange="toggleDayClosed('thursday')">
                    <label for="thursdayClosed">Closed</label>
                </div>
                <!-- Repeat similar block for other days (Friday to Sunday) -->
                <div class="day-row" id="fridayDayContainer">
                    <label for="friday">Friday: </label>
                    <select id="fridayOpenHour" class="hour-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select> 
                    <select id="fridayOpenPeriod" class="period-select">
                        <option value="AM">AM</option>
                        <option value="PM">PM</option>
                    </select>
                    to
                    <select id="fridayCloseHour" class="hour-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select> 
                    <select id="fridayClosePeriod" class="period-select">
                        <option value="AM">AM</option>
                        <option value="PM">PM</option>
                    </select>
                    <input type="checkbox" id="fridayClosed" class="closed-checkbox" onchange="toggleDayClosed('friday')">
                    <label for="fridayClosed">Closed</label>
                </div>
                <!-- Repeat similar block for Saturday and Sunday -->
                <div class="day-row" id="saturdayDayContainer">
                    <label for="saturday">Saturday: </label>
                    <select id="saturdayOpenHour" class="hour-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select> 
                    <select id="saturdayOpenPeriod" class="period-select">
                        <option value="AM">AM</option>
                        <option value="PM">PM</option>
                    </select>
                    to
                    <select id="saturdayCloseHour" class="hour-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select> 
                    <select id="saturdayClosePeriod" class="period-select">
                        <option value="AM">AM</option>
                        <option value="PM">PM</option>
                    </select>
                    <input type="checkbox" id="saturdayClosed" class="closed-checkbox" onchange="toggleDayClosed('saturday')">
                    <label for="saturdayClosed">Closed</label>
                </div>
                <div class="day-row" id="sundayDayContainer">
                    <label for="sunday">Sunday: </label>
                    <select id="sundayOpenHour" class="hour-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select> 
                    <select id="sundayOpenPeriod" class="period-select">
                        <option value="AM">AM</option>
                        <option value="PM">PM</option>
                    </select>
                    to
                    <select id="sundayCloseHour" class="hour-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select> 
                    <select id="sundayClosePeriod" class="period-select">
                        <option value="AM">AM</option>
                        <option value="PM">PM</option>
                    </select>
                    <input type="checkbox" id="sundayClosed" class="closed-checkbox" onchange="toggleDayClosed('sunday')">
                    <label for="sundayClosed">Closed</label>
                </div>
            </div>

            <div class="color-picker-container">
                <label for="officeHoursTitleColorPicker">Office Hours Title Color: </label>
                <input type="color" id="officeHoursTitleColorPicker" value="#000000">
            </div>

            <div class="font-selector-container">
                <label for="officeHoursTitleFontSelector">Office Hours Title Font Style: </label>
                <select id="officeHoursTitleFontSelector">
                    <option value="Arial">Arial</option>
                    <option value="Verdana">Verdana</option>
                    <option value="Times New Roman">Times New Roman</option>
                    <option value="Georgia">Georgia</option>
                    <option value="Courier New">Courier New</option>
                </select>
            </div>

            <div class="color-picker-container">
                <label for="closedDaysColorPicker">Choose Closed Days Color: </label>
                <input type="color" id="closedDaysColorPicker" value="#000000">
            </div>

            <div class="font-selector-container">
                <label for="closedDaysFontSelector">Choose Closed Days Font Style: </label>
                <select id="closedDaysFontSelector">
                    <option value="Arial">Arial</option>
                    <option value="Verdana">Verdana</option>
                    <option value="Times New Roman">Times New Roman</option>
                    <option value="Georgia">Georgia</option>
                    <option value="Courier New">Courier New</option>
                </select>
            </div>

            <div class="color-picker-container">
                <label for="openDaysColorPicker">Choose Open Days Color: </label>
                <input type="color" id="openDaysColorPicker" value="#000000">
            </div>

            <div class="font-selector-container">
                <label for="openDaysFontSelector">Choose Open Days Font Style: </label>
                <select id="openDaysFontSelector">
                    <option value="Arial">Arial</option>
                    <option value="Verdana">Verdana</option>
                    <option value="Times New Roman">Times New Roman</option>
                    <option value="Georgia">Georgia</option>
                    <option value="Courier New">Courier New</option>
                </select>
            </div>

            <div>
                <label for="hoursInfoBoxTarget">Select Box for Office Hours:</label>
                <input type="text" id="hoursInfoBoxTarget" placeholder="Enter Box Label (e.g., 1A)">
                <button onclick="assignOfficeHoursToBox()">Place Office Hours</button>
            </div>
        </div>

    </div>

    <script>
        function applyStyle(styleType, value) {
            document.execCommand(styleType, false, value);
        }

        function updateBusinessName() {
            const businessName = document.getElementById('businessName').value.trim();
            const businessNameColor = document.getElementById('businessNameColorPicker').value;
            const businessNameFont = document.getElementById('businessNameFontSelector').value;

            if (businessName) {
                const businessNameContainer = document.getElementById('businessNameContainer');
                businessNameContainer.textContent = businessName;
                businessNameContainer.style.color = businessNameColor;
                businessNameContainer.style.fontFamily = businessNameFont;
            } else {
                alert('Please enter a business name.');
            }
        }

        function addStyledTextToInfoBox() {
            const boxLabel = document.getElementById('infoBoxTarget').value.trim().toUpperCase();
            const styledText = document.getElementById('editableText').innerHTML;

            if (boxLabel && styledText) {
                const targetBox = document.getElementById(`box${boxLabel}`);
                
                if (targetBox) {
                    const styledTextElement = document.createElement('div');
                    styledTextElement.innerHTML = styledText;
                    styledTextElement.style.marginTop = '5px';
                    targetBox.appendChild(styledTextElement);

                    const label = targetBox.querySelector('.label');
                    if (label) {
                        targetBox.appendChild(label);
                    }

                    addClearButton(targetBox.id);

                    document.getElementById('editableText').innerHTML = '';
                } else {
                    alert('Invalid box label. Please enter a valid box label like 1A, 2B, etc.');
                }
            } else {
                alert('Please enter a box label and some styled text.');
            }
        }

        function assignContactInfoToBox() {
            const boxLabel = document.getElementById('contactInfoBoxTarget').value.trim().toUpperCase();

            if (boxLabel) {
                const targetBoxId = `box${boxLabel}`;
                const targetBox = document.getElementById(targetBoxId);

                if (targetBox) {
                    targetBox.innerHTML = ''; // Clear the box content before adding new elements

                    const contactInfoDiv = document.createElement('div');
                    contactInfoDiv.style.textAlign = 'center';

                    const contactPerson = document.getElementById('contactPerson').value.trim();
                    const contactPersonColor = document.getElementById('contactPersonColorPicker').value;
                    const contactPersonFont = document.getElementById('contactPersonFontSelector').value;

                    if (contactPerson) {
                        const contactPersonDiv = document.createElement('div');
                        contactPersonDiv.textContent = contactPerson;
                        contactPersonDiv.style.color = contactPersonColor;
                        contactPersonDiv.style.fontFamily = contactPersonFont;
                        contactInfoDiv.appendChild(contactPersonDiv);
                    }

                    const phone = formatPhoneNumber(
                        document.getElementById('phoneArea').value,
                        document.getElementById('phonePrefix').value,
                        document.getElementById('phoneLine').value,
                        document.getElementById('phoneLinkCheck').checked,
                        document.getElementById('phoneColorPicker').value
                    );

                    if (phone) {
                        contactInfoDiv.appendChild(phone);
                    }

                    const textNumber = formatPhoneNumber(
                        document.getElementById('textArea').value,
                        document.getElementById('textPrefix').value,
                        document.getElementById('textLine').value,
                        document.getElementById('textLinkCheck').checked,
                        document.getElementById('textColorPicker').value
                    );

                    if (textNumber) {
                        contactInfoDiv.appendChild(textNumber);
                    }

                    const secondPhone = formatPhoneNumber(
                        document.getElementById('secondArea').value,
                        document.getElementById('secondPrefix').value,
                        document.getElementById('secondLine').value,
                        document.getElementById('secondLinkCheck').checked,
                        document.getElementById('secondColorPicker').value
                    );

                    if (secondPhone) {
                        contactInfoDiv.appendChild(secondPhone);
                    }

                    const email = formatEmailOrWebsite(
                        document.getElementById('contactEmail').value,
                        document.getElementById('emailCheck').checked,
                        document.getElementById('emailColorPicker').value,
                        'mailto:'
                    );

                    if (email) {
                        contactInfoDiv.appendChild(email);
                    }

                    const website = formatEmailOrWebsite(
                        document.getElementById('websiteAddress').value,
                        document.getElementById('websiteCheck').checked,
                        document.getElementById('websiteColorPicker').value,
                        ''
                    );

                    if (website) {
                        contactInfoDiv.appendChild(website);
                    }

                    targetBox.appendChild(contactInfoDiv);

                    const label = targetBox.querySelector('.label');
                    if (label) {
                        targetBox.appendChild(label);
                    }

                    addClearButton(targetBox.id);
                } else {
                    alert(`Invalid box label: ${boxLabel}. Please enter a valid box label like 1A, 2B, etc.`);
                }
            } else {
                alert('Please enter a valid box label.');
            }
        }

        function formatPhoneNumber(area, prefix, line, isLink, color) {
            if (area && prefix && line) {
                const formattedNumber = `${area}-${prefix}-${line}`;
                const phoneElement = document.createElement(isLink ? 'a' : 'div');
                if (isLink) {
                    phoneElement.href = `tel:${formattedNumber}`;
                }
                phoneElement.textContent = formattedNumber;
                phoneElement.style.color = color;
                return phoneElement;
            }
            return null;
        }

        function formatEmailOrWebsite(value, isLink, color, prefix) {
            if (value) {
                const element = document.createElement(isLink ? 'a' : 'div');
                if (isLink) {
                    element.href = prefix + value;
                }
                element.textContent = value;
                element.style.color = color;
                return element;
            }
            return null;
        }

        function assignOfficeInfoToBox() {
            const boxLabel = document.getElementById('officeInfoBoxTarget').value.trim().toUpperCase();
            const streetAddress = document.getElementById('streetAddress').value.trim();
            const city = document.getElementById('city').value.trim();
            const state = document.getElementById('state').value.trim();
            const zipCode = document.getElementById('zipCode').value.trim();

            if (boxLabel && streetAddress && city && state && zipCode) {
                const targetBox = document.getElementById(`box${boxLabel}`);
                
                if (targetBox) {
                    targetBox.innerHTML = ''; 

                    const officeAddressDiv = document.createElement('div');
                    officeAddressDiv.style.textAlign = 'center';

                    const addressLine1 = document.createElement('div');
                    addressLine1.textContent = streetAddress;

                    const addressLine2 = document.createElement('div');
                    addressLine2.textContent = `${city}, ${state} ${zipCode}`;

                    officeAddressDiv.appendChild(addressLine1);
                    officeAddressDiv.appendChild(addressLine2);

                    targetBox.appendChild(officeAddressDiv);

                    const label = targetBox.querySelector('.label');
                    if (label) {
                        targetBox.appendChild(label);
                    }

                    addClearButton(targetBox.id);
                } else {
                    alert('Invalid box label. Please enter a valid box label like 1A, 2B, etc.');
                }
            } else {
                alert('Please complete the office address information.');
            }
        }

        function assignOfficeHoursToBox() {
            const boxLabel = document.getElementById('hoursInfoBoxTarget').value.trim().toUpperCase();
            const days = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];

            const officeHoursTitleColor = document.getElementById('officeHoursTitleColorPicker').value;
            const officeHoursTitleFont = document.getElementById('officeHoursTitleFontSelector').value;

            const closedDaysColor = document.getElementById('closedDaysColorPicker').value;
            const closedDaysFont = document.getElementById('closedDaysFontSelector').value;

            const openDaysColor = document.getElementById('openDaysColorPicker').value;
            const openDaysFont = document.getElementById('openDaysFontSelector').value;

            if (boxLabel) {
                const targetBox = document.getElementById(`box${boxLabel}`);
                
                if (targetBox) {
                    targetBox.innerHTML = ''; 
                    const officeHoursDiv = document.createElement('div');
                    officeHoursDiv.style.textAlign = 'center';

                    const title = document.createElement('div');
                    title.textContent = 'Office Hours';
                    title.style.color = officeHoursTitleColor;
                    title.style.fontFamily = officeHoursTitleFont;
                    officeHoursDiv.appendChild(title);

                    days.forEach(day => {
                        const openHour = document.getElementById(`${day}OpenHour`).value;
                        const openPeriod = document.getElementById(`${day}OpenPeriod`).value;
                        const closeHour = document.getElementById(`${day}CloseHour`).value;
                        const closePeriod = document.getElementById(`${day}ClosePeriod`).value;
                        const closed = document.getElementById(`${day}Closed`).checked;

                        const dayDiv = document.createElement('div');

                        if (closed) {
                            dayDiv.textContent = `${capitalizeFirstLetter(day)}: Closed`;
                            dayDiv.style.color = closedDaysColor;
                            dayDiv.style.fontFamily = closedDaysFont;
                        } else {
                            dayDiv.textContent = `${capitalizeFirstLetter(day)}: ${openHour} ${openPeriod} - ${closeHour} ${closePeriod}`;
                            dayDiv.style.color = openDaysColor;
                            dayDiv.style.fontFamily = openDaysFont;
                        }

                        officeHoursDiv.appendChild(dayDiv);
                    });

                    targetBox.appendChild(officeHoursDiv);

                    const label = targetBox.querySelector('.label');
                    if (label) {
                        targetBox.appendChild(label);
                    }

                    addClearButton(targetBox.id);
                } else {
                    alert('Invalid box label. Please enter a valid box label like 1A, 2B, etc.');
                }
            } else {
                alert('Please enter a valid box label.');
            }
        }

        function clearContactInfo() {
            const container = document.querySelector('.box-container');
            container.querySelectorAll('input[type="text"], input[type="email"], input[type="url"]').forEach(input => input.value = '');
            container.querySelectorAll('input[type="checkbox"]').forEach(checkbox => checkbox.checked = false);
            container.querySelectorAll('input[type="color"]').forEach(colorInput => colorInput.value = '#000000');
        }

        function isNumberKey(evt) {
            var charCode = (evt.which) ? evt.which : evt.keyCode;
            if (charCode > 31 && (charCode < 48 || charCode > 57)) return false;
            return true;
        }

        function previewMedia(event, boxId) {
            const box = document.getElementById(boxId);
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    let mediaElement;
                    if (file.type.startsWith('video/')) {
                        mediaElement = document.createElement('video');
                        mediaElement.controls = true;
                    } else {
                        mediaElement = document.createElement('img');
                    }
                    mediaElement.src = e.target.result;
                    mediaElement.style.width = '100%';
                    mediaElement.style.height = '100%';
                    mediaElement.style.objectFit = 'contain';
                    box.innerHTML = ''; // Clear the box content
                    box.appendChild(mediaElement);
                    const label = document.createElement('div');
                    label.className = 'label';
                    label.textContent = boxId.slice(-2);
                    box.appendChild(label);
                    addClearButton(boxId);
                }
                reader.readAsDataURL(file);
            }
        }

        function clearBox(boxId) {
            const box = document.getElementById(boxId);
            box.innerHTML = '';
            const label = document.createElement('div');
            label.className = 'label';
            label.textContent = boxId.slice(-2);
            box.appendChild(label);
            addClearButton(boxId);
        }

        function addClearButton(boxId) {
            const box = document.getElementById(boxId);
            const existingClearButton = box.querySelector('.clear-button');
            if (existingClearButton) {
                existingClearButton.remove();
            }
            const clearButton = document.createElement('button');
            clearButton.className = 'clear-button';
            clearButton.textContent = 'Clear';
            clearButton.onclick = function() {
                clearBox(boxId);
            };
            box.appendChild(clearButton);
        }

        function combineBoxes() {
            const boxIds = document.getElementById('combineBoxes').value.split(' ');
            const newLabel = document.getElementById('newLabel').value;
            if (boxIds.length > 3 || boxIds.length < 2) {
                alert('You can combine 2 or 3 boxes only.');
                return;
            }
            const firstBox = document.getElementById(`box${boxIds[0]}`);
            if (!firstBox) {
                alert('Invalid box labels provided.');
                return;
            }
            let minRow = 4, maxRow = 0, minCol = 4, maxCol = 0;
            boxIds.forEach(id => {
                const row = parseInt(id.charAt(0));
                const col = id.charAt(1).charCodeAt(0) - 65 + 1;
                if (row < minRow) minRow = row;
                if (row > maxRow) maxRow = row;
                if (col < minCol) minCol = col;
                if (col > maxCol) maxCol = col;
            });
            firstBox.style.gridRowStart = minRow;
            firstBox.style.gridRowEnd = maxRow + 1;
            firstBox.style.gridColumnStart = minCol;
            firstBox.style.gridColumnEnd = maxCol + 1;

            const combinedBoxInput = document.createElement('input');
            combinedBoxInput.type = 'file';
            combinedBoxInput.accept = 'image/*,video/*';
            combinedBoxInput.onchange = function(event) {
                previewMedia(event, firstBox.id);
            };

            firstBox.innerHTML = '';
            firstBox.id = `box${newLabel}`;
            const labelElement = document.createElement('div');
            labelElement.className = 'label';
            labelElement.textContent = newLabel;
            firstBox.appendChild(labelElement);
            firstBox.appendChild(combinedBoxInput);

            boxIds.slice(1).forEach(id => {
                const box = document.getElementById(`box${id}`);
                if (box) {
                    box.remove();
                }
            });
        }

        function toggleGridVisibility() {
            const isChecked = document.getElementById('removeGridCheckbox').checked;
            const boxes = document.querySelectorAll('.box');
            const infoContainer = document.getElementById('infoContainer');
            
            if (isChecked) {
                boxes.forEach(box => {
                    const label = box.querySelector('.label');
                    if (label) label.style.display = 'none';
                    
                    const clearButton = box.querySelector('.clear-button');
                    if (clearButton) clearButton.style.display = 'none';
                    
                    box.style.border = 'none';
                });
                infoContainer.style.gap = '0';
            } else {
                boxes.forEach(box => {
                    const label = box.querySelector('.label');
                    if (label) label.style.display = 'block';
                    
                    const clearButton = box.querySelector('.clear-button');
                    if (clearButton) clearButton.style.display = 'block';
                    
                    box.style.border = '2px solid #ccc';
                });
                infoContainer.style.gap = '1px';
            }
        }

        function searchAndAssignImage(event) {
            const boxLabel = document.getElementById('targetBox').value;
            const targetBox = document.getElementById(`box${boxLabel}`);
            if (targetBox) {
                previewMedia(event, `box${boxLabel}`);
            } else {
                alert('Invalid box label.');
            }
        }

        function capitalizeFirstLetter(string) {
            return string.charAt(0).toUpperCase() + string.slice(1);
        }

        function toggleDayClosed(day) {
            const closed = document.getElementById(`${day}Closed`).checked;
            const openHour = document.getElementById(`${day}OpenHour`);
            const openPeriod = document.getElementById(`${day}OpenPeriod`);
            const closeHour = document.getElementById(`${day}CloseHour`);
            const closePeriod = document.getElementById(`${day}ClosePeriod`);

            if (closed) {
                openHour.disabled = true;
                openPeriod.disabled = true;
                closeHour.disabled = true;
                closePeriod.disabled = true;
            } else {
                openHour.disabled = false;
                openPeriod.disabled = false;
                closeHour.disabled = false;
                closePeriod.disabled = false;
            }
        }

        function updateAddressColor() {
            const color = document.getElementById('addressColorPicker').value;
            document.getElementById('streetAddress').style.color = color;
            document.getElementById('city').style.color = color;
            document.getElementById('state').style.color = color;
            document.getElementById('zipCode').style.color = color;
            document.getElementById('addressHexColorCode').value = color;
        }

        function updateColorFromHex(hexInput, colorPickerId, elementId) {
            const color = hexInput.value;
            document.getElementById(colorPickerId).value = color;
            document.getElementById(elementId).style.color = color;
        }

        function updateAddressFont() {
            const font = document.getElementById('addressFontSelector').value;
            document.getElementById('streetAddress').style.fontFamily = font;
            document.getElementById('city').style.fontFamily = font;
            document.getElementById('state').style.fontFamily = font;
            document.getElementById('zipCode').style.fontFamily = font;
        }

    </script>
</body>
</html>
